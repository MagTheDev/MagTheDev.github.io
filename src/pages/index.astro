---
import Layout from "../layouts/Layout.astro";
import Banner from "../components/Banner.astro";
import ContentWindow from "../components/ContentWindow.astro";
import ProjectCard from "../components/ProjectCard.astro";
import SkillGroup from "../components/SkillGroup.astro";
---

<Layout title="MagTheDev">
    <!-- <StatusBar /> -->

    <main id="main-content" class="main-content" role="main">
        <div class="container">
            <section class="hero-section" aria-labelledby="hero-title">
                <div class="banner-container">
                    <Banner />
                </div>
                <div class="hero-text">
                    <p aria-hidden="true">
                        <span class="prompt">
                            [jake@nixos MagTheDev.github.io]$
                        </span>
                        <span class="command">whoami</span>
                    </p>
                    <div class="output">
                        <h1 id="hero-title" class="output-text">
                            Full-Stack Developer & System Administrator
                        </h1>
                        <p class="blink">
                            Specializing in robust applications and scalable
                            infrastructure
                        </p>
                    </div>
                </div>
            </section>
            <nav class="nav-menu" aria-label="Main navigation">
                <a href="#skills" class="nav-item crt-hover">./skills</a>
                <a href="#projects" class="nav-item crt-hover">./projects</a>
                <a href="#about" class="nav-item crt-hover">./about</a>
            </nav>

            <!-- Windows -->
            <section id="skills" aria-label="Skills section">
                <ContentWindow name="skills.sh" command="cat ./skills-*.md">
                    <div class="skills-grid">
                        <SkillGroup
                            name="development/"
                            items={[
                                "Rust",
                                "Kotlin",
                                "Javascript/Typescript",
                                "Python",
                                "Elixir",
                                "Postgresql",
                                "REST/GraphQL",
                            ]}
                        />
                        <SkillGroup
                            name="infrastructure/"
                            items={[
                                "Linux",
                                "Docker / Podman",
                                "NixPacks",
                                "Nginx/Apache",
                                "GitHub Actions",
                            ]}
                        />
                        <SkillGroup
                            name="monitoring/"
                            items={["Prometheus", "Grafana", "Sentry"]}
                        />
                    </div>
                </ContentWindow>
            </section>
            <section id="projects" aria-label="Projects section">
                <ContentWindow name="projects.sh" command="ls -al ./projects/">
                    <div class="projects-container">
                        <ProjectCard
                            name="adventná-výzva/"
                            tech={["React", "SpringBoot", "PostgresQL"]}
                            links={[
                                {
                                    name: "GitHub",
                                    url: "https://github.com/7274-dev/AdventnaVyzva-GlobalBackend",
                                },
                            ]}
                        >
                            <strong>Adventná výzva</strong> is a playful fullstack
                            web app created for our school to bring the spirit of
                            Advent to life. Teachers can create daily tasks for each
                            day of Advent, and students participate by completing
                            them in an engaging, interactive way. The app blends
                            festive fun with meaningful challenges, encouraging participation
                            and community during the holiday season.
                        </ProjectCard>
                        <ProjectCard
                            name="edufix/"
                            tech={["Swift", "SwiftUI"]}
                            links={[
                                {
                                    name: "GitHub",
                                    url: "https://github.com/MagTheDev/EduFix",
                                },
                            ]}
                            isLast
                        >
                            <strong>EduFix</strong> is a modern Swift-based companion
                            app for EduPage, designed to smooth over the frustrations
                            of an outdated academic system. Its main feature is a
                            customizable homescreen widget that displays the current
                            lesson in real time, giving students quick, glanceable
                            access to their schedule. Future updates will expand
                            functionality with tools like a grade calculator, automatic
                            lunch selection, and more — all with a focus on usability
                            and a clean, native iOS experience.
                        </ProjectCard>
                    </div>
                </ContentWindow>
            </section>
            <section id="about" aria-label="About section">
                <ContentWindow name="about.sh" command="cat ./about-me.md">
                    <div class="about-content">
                        <h2><span class="about-dimmed">#</span> Me</h2>
                        <p>
                            I build things when existing solutions aren't <strong><span class="about-dimmed">*</span>good
                            enough<span class="about-dimmed">*</span>.</strong>
                        </p>
                        <h3><span class="about-dimmed">##</span> Who?</h3>
                        <p>
                            I'm a <span class="about-highlight">full-stack developer</span> and <span class="about-highlight">system administrator</span> who
                            values freedom over convenience and quality over speed.
                            I take my time shipping because details matter. <span class="about-dimmed">"</span>Good
                            enough<span class="about-dimmed">"</span> isn't in my vocabulary.
                        </p>
                        <h3><span class="about-dimmed">##</span> Why?</h3>
                        <p>
                            My approach is straightforward: see a broken system, get
                            frustrated, fix it. I'm driven by <span class="about-highlight">spite</span> as much as
                            <span class="about-highlight">passion</span>, and I'm not afraid to rebuild something from
                            scratch if that's what it takes to do it right. I
                            believe in <span class="about-highlight">open source</span> and software that <strong><span class="about-dimmed">*</span>respects its
                            users<span class="about-dimmed">*</span>.</strong>
                        </p>
                        <h3><span class="about-dimmed">##</span> How?</h3>
                        <p>
                            I work with <span class="about-highlight">Rust</span>, <span class="about-highlight">Kotlin</span>, <span class="about-highlight">TypeScript</span>, <span class="about-highlight">Python</span>, <span class="about-highlight">Elixir</span> -
                            whatever solves the problem best. I run <span class="about-highlight">NixOS</span> because I
                            value <span class="about-highlight">control</span> and <span class="about-highlight">reproducibility</span>, even when it's
                            painful. I obsess over architecture that ages well and
                            code that's honest about what it does.
                        </p>
                    </div>
                </ContentWindow>
            </section>
        </div>
    </main>
</Layout>

<style>
    @import url("../assets/styles/globals.css");

    .main-content {
        padding: 20px 0;
    }

    .banner-container {
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .hero-section {
        margin: 2rem 0;
    }
    .hero-text {
        margin-top: 20px;
        font-weight: 500;
    }
    .prompt {
        color: var(--color-primary);
        margin-right: 0.2rem;
    }
    .output {
        display: flex;
        flex-direction: column;
        margin-top: 1.2rem;
    }
    .output-text {
        color: var(--color-secondary);
        font-size: 1.2rem;
    }

    .blink::after {
        content: "";
        width: 2px;
        height: 1.2rem;
        background-color: var(--color-primary);
        display: inline-block;
        transform: translateY(0.3rem) translateX(0.2rem);
        animation: cursor-blink 1.5s linear infinite;
    }

    @keyframes cursor-blink {
        0% {
            background-color: var(--color-bg);
        }
        30% {
            background-color: var(--color-bg);
        }
        50% {
            background-color: var(--color-primary);
        }
        70% {
            background-color: var(--color-bg);
        }
        100% {
            background-color: var(--color-bg);
        }
    }

    .nav-menu {
        display: flex;
        justify-content: center;
        gap: 30px;
        margin: 4rem 0;
        flex-wrap: wrap;
    }
    .nav-item {
        color: var(--color-muted);
        text-decoration: none;
        padding: 5px 10px;
        border: 1px solid transparent;
        transition: all 0.3s ease;
    }
    .nav-item:hover {
        color: var(--color-primary);
        border-color: var(--color-primary);
    }

    .skills-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin: 20px 0;
    }
    .projects-container {
        display: flex;
        flex-direction: column;
        gap: 20px;
        margin: 20px 0;
    }
    .about-highlight {
        color: var(--color-primary);
        font-weight: 600;
    }
    .about-dimmed {
        color: var(--color-muted);
    }
</style>
